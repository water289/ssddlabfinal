[{"filePath":"D:\\finalfinal\\ssddlabfinal\\src\\frontend\\src\\App.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\finalfinal\\ssddlabfinal\\src\\frontend\\src\\api.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\finalfinal\\ssddlabfinal\\src\\frontend\\src\\components\\ElectionBoard.jsx","messages":[{"ruleId":"react/prop-types","severity":2,"message":"'elections' is missing in props validation","line":4,"column":41,"nodeType":"Property","messageId":"missingPropType","endLine":4,"endColumn":50},{"ruleId":"react/prop-types","severity":2,"message":"'refresh' is missing in props validation","line":4,"column":52,"nodeType":"Property","messageId":"missingPropType","endLine":4,"endColumn":59},{"ruleId":"react/prop-types","severity":2,"message":"'onResult' is missing in props validation","line":4,"column":61,"nodeType":"Property","messageId":"missingPropType","endLine":4,"endColumn":69},{"ruleId":"react/prop-types","severity":2,"message":"'isAdmin' is missing in props validation","line":4,"column":71,"nodeType":"Property","messageId":"missingPropType","endLine":4,"endColumn":78},{"ruleId":"react/prop-types","severity":2,"message":"'elections.length' is missing in props validation","line":53,"column":20,"nodeType":"Identifier","messageId":"missingPropType","endLine":53,"endColumn":26},{"ruleId":"react/prop-types","severity":2,"message":"'elections.map' is missing in props validation","line":54,"column":20,"nodeType":"Identifier","messageId":"missingPropType","endLine":54,"endColumn":23}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react'\r\nimport api from '../api'\r\n\r\nexport default function ElectionBoard({ elections, refresh, onResult, isAdmin }) {\r\n  const [title, setTitle] = useState('')\r\n  const [status, setStatus] = useState('')\r\n\r\n  const createElection = async () => {\r\n    try {\r\n      await api.post('/elections', { title: title.trim() })\r\n      setTitle('')\r\n      setStatus('Election created')\r\n      refresh()\r\n    } catch (error) {\r\n      setStatus(error.response?.data?.detail || 'Unable to create election')\r\n    }\r\n  }\r\n\r\n  const closeElection = async (id) => {\r\n    try {\r\n      await api.post(`/elections/${id}/close`)\r\n      setStatus('Election closed')\r\n      refresh()\r\n    } catch (error) {\r\n      setStatus(error.response?.data?.detail || 'Unable to close election')\r\n    }\r\n  }\r\n\r\n  const loadResults = async (id) => {\r\n    try {\r\n      const res = await api.get(`/elections/${id}/results`)\r\n      onResult(res.data)\r\n    } catch (error) {\r\n      setStatus(error.response?.data?.detail || 'Unable to fetch results')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {isAdmin && (\r\n        <div className=\"form-block\">\r\n          <input\r\n            placeholder=\"New election title\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n          />\r\n          <button disabled={!title.trim()} onClick={createElection}>\r\n            Create election\r\n          </button>\r\n        </div>\r\n      )}\r\n      <div className=\"election-list\">\r\n        {elections.length === 0 && <p>No elections found.</p>}\r\n        {elections.map((election) => (\r\n          <div key={election.id} className=\"election-row\">\r\n            <div>\r\n              <strong>{election.title}</strong>\r\n              <div className=\"muted\">{election.is_active ? 'Active' : 'Closed'}</div>\r\n            </div>\r\n            <div>\r\n              {isAdmin && election.is_active && (\r\n                <button onClick={() => closeElection(election.id)}>Close</button>\r\n              )}\r\n              {isAdmin && (\r\n                <button onClick={() => loadResults(election.id)}>Refresh results</button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {status && <p className=\"status-text\">{status}</p>}\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\finalfinal\\ssddlabfinal\\src\\frontend\\src\\components\\Login.jsx","messages":[{"ruleId":"react/prop-types","severity":2,"message":"'onLogin' is missing in props validation","line":4,"column":33,"nodeType":"Property","messageId":"missingPropType","endLine":4,"endColumn":40},{"ruleId":"react/prop-types","severity":2,"message":"'onMessage' is missing in props validation","line":4,"column":42,"nodeType":"Property","messageId":"missingPropType","endLine":4,"endColumn":51}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react'\r\nimport api from '../api'\r\n\r\nexport default function Login({ onLogin, onMessage }) {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const submit = async () => {\r\n    try {\r\n      const params = new URLSearchParams()\r\n      params.append('username', username)\r\n      params.append('password', password)\r\n      const res = await api.post('/auth/token', params)\r\n      onLogin(res.data.access_token)\r\n      setPassword('')\r\n      setUsername('')\r\n      onMessage?.('Logged in')\r\n    } catch (error) {\r\n      onMessage?.(error.response?.data?.detail || 'Login failed')\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"form-block\">\r\n      <input placeholder=\"username\" value={username} onChange={(e) => setUsername(e.target.value)} />\r\n      <input placeholder=\"password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n      <button disabled={!username || !password} onClick={submit}>Login</button>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\finalfinal\\ssddlabfinal\\src\\frontend\\src\\components\\Register.jsx","messages":[{"ruleId":"react/prop-types","severity":2,"message":"'onMessage' is missing in props validation","line":4,"column":36,"nodeType":"Property","messageId":"missingPropType","endLine":4,"endColumn":45}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react'\r\nimport api from '../api'\r\n\r\nexport default function Register({ onMessage }) {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const submit = async () => {\r\n    try {\r\n      await api.post('/auth/register', { username, password })\r\n      setUsername('')\r\n      setPassword('')\r\n      onMessage?.('Registration successful')\r\n    } catch (error) {\r\n      onMessage?.(error.response?.data?.detail || 'Registration failed')\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"form-block\">\r\n      <input placeholder=\"username\" value={username} onChange={(e) => setUsername(e.target.value)} />\r\n      <input placeholder=\"password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n      <button disabled={!username || !password} onClick={submit}>Create voter</button>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\finalfinal\\ssddlabfinal\\src\\frontend\\src\\components\\Vote.jsx","messages":[{"ruleId":"react/prop-types","severity":2,"message":"'elections' is missing in props validation","line":4,"column":32,"nodeType":"Property","messageId":"missingPropType","endLine":4,"endColumn":41},{"ruleId":"react/prop-types","severity":2,"message":"'onMessage' is missing in props validation","line":4,"column":43,"nodeType":"Property","messageId":"missingPropType","endLine":4,"endColumn":52},{"ruleId":"react/prop-types","severity":2,"message":"'elections.length' is missing in props validation","line":8,"column":19,"nodeType":"Identifier","messageId":"missingPropType","endLine":8,"endColumn":25},{"ruleId":"react/prop-types","severity":2,"message":"'elections[].id' is missing in props validation","line":9,"column":34,"nodeType":"Identifier","messageId":"missingPropType","endLine":9,"endColumn":36},{"ruleId":"react/prop-types","severity":2,"message":"'elections.map' is missing in props validation","line":31,"column":22,"nodeType":"Identifier","messageId":"missingPropType","endLine":31,"endColumn":25}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from 'react'\r\nimport api from '../api'\r\n\r\nexport default function Vote({ elections, onMessage }) {\r\n  const [electionId, setElectionId] = useState('')\r\n  const [choice, setChoice] = useState('A')\r\n  useEffect(() => {\r\n    if (elections.length > 0) {\r\n      setElectionId(elections[0].id)\r\n    }\r\n  }, [elections])\r\n\r\n  const submit = async () => {\r\n    if (!electionId) {\r\n      onMessage?.('Select an election before voting')\r\n      return\r\n    }\r\n    try {\r\n      await api.post('/vote', { election_id: electionId, choice })\r\n      onMessage?.('Vote recorded')\r\n    } catch (error) {\r\n      onMessage?.(error.response?.data?.detail || 'Voting failed')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"form-block\">\r\n      <label>\r\n        Election\r\n        <select value={electionId} onChange={(e) => setElectionId(Number(e.target.value))}>\r\n          {elections.map((election) => (\r\n            <option key={election.id} value={election.id}>\r\n              {election.title} {election.is_active ? '(active)' : '(closed)'}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </label>\r\n      <label>\r\n        Choice\r\n        <input value={choice} onChange={(e) => setChoice(e.target.value)} />\r\n      </label>\r\n      <button onClick={submit} disabled={!electionId}>Cast vote</button>\r\n    </div>\r\n  )\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\finalfinal\\ssddlabfinal\\src\\frontend\\src\\main.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]